<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>chaand | Admin Dashboard - CMS</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/dataTables.bootstrap5.min.css">

    <style>
        :root {
  --primary-color: #166e22;
  --white-color: #ffffff;
  --border-color: #e0e0e0;
}

body {
  font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
  background-color: #f5f5f5;
  overflow-x: hidden;
}

.header {
  background-color: var(--white-color);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  padding: 1rem;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 1000;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.logo {
  font-size: 1.5rem;
  font-weight: bold;
  color: var(--primary-color);
  display: flex;
  align-items: center;
}

.header-title {
  font-size: 1.2rem;
  color: #333;
}

.sidebar {
  position: fixed;
  top: 70px;
  left: 0;
  height: calc(100vh - 70px);
  width: 250px;
  background-color: var(--white-color);
  box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
  transition: all 0.3s;
  z-index: 900;
  overflow-y: auto;
}

.sidebar-menu {
  list-style: none;
  padding: 0;
  margin: 0;
}

.sidebar-menu li {
  border-bottom: 1px solid var(--border-color);
}

.sidebar-menu li a {
  display: block;
  padding: 15px 20px;
  color: #333;
  text-decoration: none;
  transition: all 0.3s;
}

.sidebar-menu li a:hover,
.sidebar-menu li a.active {
  background-color: var(--primary-color);
  color: var(--white-color);
}

.sidebar-menu li a i {
  margin-right: 10px;
  width: 20px;
  text-align: center;
}

.main-content {
  margin-left: 250px;
  margin-top: calc(1rem + 52px);
  padding: 20px;
  transition: all 0.3s;
}

@media (max-width: 992px) {
  .sidebar {
    width: 70px;
    transform: translateX(0);
  }

  .sidebar-menu li a span {
    display: none;
  }

  .sidebar-menu li a i {
    margin-right: 0;
    font-size: 1.2rem;
  }

  .main-content {
    margin-left: 70px;
  }
}

@media (max-width: 768px) {
  .sidebar {
    transform: translateX(-100%);
    width: 250px;
  }

  .sidebar.active {
    transform: translateX(0);
  }

  .sidebar-menu li a span {
    display: inline-block;
  }

  .main-content {
    margin-left: 0;
  }

  .toggle-sidebar {
    display: block !important;
  }

  .logo img {
    min-width: 15vw;
  }
}

.toggle-sidebar {
  display: none;
  background-color: var(--primary-color);
  color: var(--white-color);
  border: none;
  border-radius: 4px;
  padding: 5px 10px;
  margin-right: 10px;
  cursor: pointer;
}

.text-primary {
  color: var(--primary-color) !important;
}

.bg-primary {
  background-color: var(--primary-color) !important;
}

.btn-primary {
  background-color: var(--primary-color);
  border-color: var(--primary-color);
}

.btn-primary:hover {
  background-color: var(--primary-dark);
  border-color: var(--primary-dark);
}

@media (min-width: 1500px) {
  .sidebar {
    margin-top: 60px;
  }

  .main-content {
    margin-top: 125px;
  }
}

@media ((min-width: 800px) and (max-width: 1200px)) {
  .sidebar {
    margin-top: 15px;
  }

  .main-content {
    margin-top: 90px;
  }
}

@media ((min-width: 1200px) and (max-width: 1500px)) {
  .sidebar {
    margin-top: 30px;
  }

  .main-content {
    margin-top: 100px;
  }
}

@media (min-width: 2000px) {
  .sidebar {
    margin-top: 100px;
  }

  .main-content {
    margin-top: 200px;
  }
}

.headertext {
  padding-right: 5vw;
}
.dashboard-card {
  background-color: var(--white-color);
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  padding: 20px;
  margin-bottom: 20px;
  height: 100%;
  transition: transform 0.3s;
}

.dashboard-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
}

.card-icon {
  font-size: 2rem;
  color: var(--primary-color);
  margin-bottom: 15px;
}

.card-value {
  font-size: 2.5rem;
  font-weight: bold;
  color: var(--primary-color);
  margin-bottom: 5px;
}

.card-label {
  font-size: 1rem;
  color: #666;
}
.page-title {
  color: var(--primary-color);
  font-weight: 600;
  margin-bottom: 0.5rem;
}

.cms-card {
  background-color: var(--white-color);
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  padding: 25px;
  margin-bottom: 20px;
  height: 100%;
  transition: all 0.3s;
  cursor: pointer;
  text-align: center;
}

.cms-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
  background-color: #f8f9fa;
}

.cms-card .card-icon {
  font-size: 2.5rem;
  color: var(--primary-color);
  margin-bottom: 15px;
}

.cms-card .card-title {
  font-size: 1.5rem;
  font-weight: 600;
  color: #333;
  margin-bottom: 10px;
}

.cms-card .card-description {
  font-size: 0.9rem;
  color: #666;
}

.cms-section {
  animation: fadeIn 0.3s ease-in-out;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.card-header {
  background-color: var(--primary-color) !important;
}

.btn-primary {
  background-color: var(--primary-color);
  border-color: var(--primary-color);
}

.btn-primary:hover {
  background-color: #0e5017;
  border-color: #0e5017;
}

.back-to-options {
  margin-bottom: 1rem;
}

#image-preview {
  max-height: 150px;
  object-fit: contain;
}

.table img {
  object-fit: cover;
  height: 60px;
  width: 100px;
}

    </style>

    <link rel="shortcut icon" href="images/favicon.png" type="image/x-icon">
</head>

<body>
    <header class="header">
        <div class="d-flex align-items-center">
            <button class="toggle-sidebar me-2">
                <i class="fas fa-bars"></i>
            </button>
            <div class="logo" style="padding-left: 5vw;">
                <img src="images/logo.png" alt="" style="max-width: 10vw; max-height: 10vh;">
            </div>
        </div>
        <div class="text-muted headertext">Admin Dashboard</div>
    </header>

    <aside class="sidebar">
        <ul class="sidebar-menu">
            <li>
                <a href="index.html" class="nav-link">
                    <i class="fas fa-tachometer-alt"></i><span>Dashboard</span>
                </a>
            </li>
            <li>
                <a href="admin_products.html" class="nav-link">
                    <i class="fas fa-book"></i><span>Products</span>
                </a>
            </li>
            <li>
                <a href="admin_collection_data.html" class="nav-link">
                    <i class="fas fa-broadcast-tower"></i><span>Collections</span>
                </a>
            </li>
            <li>
                <a href="#" class="nav-link">
                    <i class="fas fa-broadcast-tower"></i><span>Featured Products</span>
                </a>
            </li>
            <li>
                <a href="admin_user_data.html" class="nav-link">
                    <i class="fas fa-clipboard-list"></i><span>User Data</span>
                </a>
            </li>
            <li>
                <a href="cms.html" class="nav-link active">
                    <i class="fas fa-users"></i><span>CMS</span>
                </a>
            </li>
            <li>
                <a href="#" class="nav-link">
                    <i class="fas fa-history"></i><span>Orders</span>
                </a>
            </li>
            <li>
                <a href="#" class="nav-link">
                    <i class="fas fa-envelope"></i><span>Contact Us</span></a>
            </li>
            <li>
                <a href="#" class="nav-link">
                    <i class="fas fa-search"></i><span>SEO</span>
                </a>
            </li>
        </ul>
    </aside>

    <main class="main-content">
        <section id="cms" class="content-section active">
            <div class="container-fluid">
                <div class="row mb-4">
                    <div class="col-12">
                        <h1 class="page-title">CMS</h1>
                        <p class="text-muted">Manage your website content</p>
                    </div>
                </div>

                <!-- CMS Options -->
                <div class="row" id="cms-options">
                    <div class="col-md-6 col-lg-4 mb-4">
                        <div class="cms-card" data-target="footer">
                            <div class="card-icon"><i class="fas fa-shoe-prints"></i></div>
                            <div class="card-title">Footer</div>
                            <div class="card-description">Manage footer contact information</div>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-4 mb-4">
                        <div class="cms-card" data-target="carousel">
                            <div class="card-icon"><i class="fas fa-images"></i></div>
                            <div class="card-title">Carousel</div>
                            <div class="card-description">Manage homepage carousel slides</div>
                        </div>
                    </div>
                </div>

                <!-- Footer Form Section -->
                <div id="footer-section" class="cms-section" style="display: none;">
                    <div class="row mb-3">
                        <div class="col-12">
                            <button class="btn btn-secondary back-to-options">
                                <i class="fas fa-arrow-left"></i> Back
                            </button>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <div class="card">
                                <div class="card-header bg-primary text-white">
                                    <h5 class="mb-0">Footer Information</h5>
                                </div>
                                <div class="card-body">
                                    <form id="footer-form">
                                        <div class="mb-3">
                                            <label for="instagram-url" class="form-label">Instagram URL</label>
                                            <input type="url" class="form-control" id="instagram-url" placeholder="https://instagram.com/youraccount">
                                        </div>
                                        <div class="mb-3">
                                            <label for="contact-number" class="form-label">Contact Number</label>
                                            <input type="tel" class="form-control" id="contact-number" placeholder="+91 1234567890">
                                        </div>
                                        <div class="mb-3">
                                            <label for="email-address" class="form-label">Email Address</label>
                                            <input type="email" class="form-control" id="email-address" placeholder="contact@example.com">
                                        </div>
                                        <button type="submit" class="btn btn-primary">Save Changes</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Carousel Section -->
                <div id="carousel-section" class="cms-section" style="display: none;">
                    <div class="row mb-3">
                        <div class="col-12 d-flex justify-content-between align-items-center">
                            <button class="btn btn-secondary back-to-options">
                                <i class="fas fa-arrow-left"></i> Back
                            </button>
                            <button class="btn btn-primary" id="add-carousel-btn">
                                <i class="fas fa-plus"></i> Add New Slide
                            </button>
                        </div>
                    </div>
                    
                    <!-- Carousel Items List -->
                    <div class="row mb-4">
                        <div class="col-12">
                            <div class="card">
                                <div class="card-header bg-primary text-white">
                                    <h5 class="mb-0">Carousel Slides</h5>
                                </div>
                                <div class="card-body">
                                    <div class="table-responsive">
                                        <table class="table table-striped" id="carousel-table">
                                            <thead>
                                                <tr>
                                                    <th>Image</th>
                                                    <th>Title</th>
                                                    <th>Type</th>
                                                    <th>Actions</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td><img src="./images/footer_logo.png" alt="Slide" class="img-thumbnail" style="width: 100px;"></td>
                                                    <td>Summer Collection</td>
                                                    <td><span class="badge bg-primary">Link</span></td>
                                                    <td>
                                                        <button class="btn btn-sm btn-info edit-carousel"><i class="fas fa-edit"></i></button>
                                                        <button class="btn btn-sm btn-danger delete-carousel"><i class="fas fa-trash"></i></button>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td><img src="./images/footer_logo.png" alt="Slide" class="img-thumbnail" style="width: 100px;"></td>
                                                    <td>New Arrivals</td>
                                                    <td><span class="badge bg-secondary">Non-Link</span></td>
                                                    <td>
                                                        <button class="btn btn-sm btn-info edit-carousel"><i class="fas fa-edit"></i></button>
                                                        <button class="btn btn-sm btn-danger delete-carousel"><i class="fas fa-trash"></i></button>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Carousel Add/Edit Form Modal -->
                <div class="modal fade" id="carousel-modal" tabindex="-1" aria-labelledby="carouselModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content">
                            <div class="modal-header bg-primary text-white">
                                <h5 class="modal-title" id="carouselModalLabel">Add Carousel Slide</h5>
                                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <form id="carousel-form">
                                    <div class="mb-3">
                                        <label class="form-label">Slide Type</label>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="slide-type" id="type-link" value="link" checked>
                                            <label class="form-check-label" for="type-link">
                                                Link (with redirect)
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="slide-type" id="type-nonlink" value="nonlink">
                                            <label class="form-check-label" for="type-nonlink">
                                                Non-Link (display only)
                                            </label>
                                        </div>
                                    </div>
                                    
                                    <div class="mb-3">
                                        <label for="carousel-image" class="form-label">Image</label>
                                        <input type="file" class="form-control" id="carousel-image" accept="image/*">
                                        <div class="mt-2" id="image-preview-container" style="display: none;">
                                            <img id="image-preview" src="#" alt="Preview" class="img-thumbnail" style="max-width: 200px;">
                                        </div>
                                    </div>
                                    
                                    <div class="mb-3">
                                        <label for="carousel-title" class="form-label">Title</label>
                                        <input type="text" class="form-control" id="carousel-title" placeholder="Enter slide title">
                                    </div>
                                    
                                    <div class="mb-3">
                                        <label for="carousel-subtitle" class="form-label">Subtitle</label>
                                        <input type="text" class="form-control" id="carousel-subtitle" placeholder="Enter slide subtitle">
                                    </div>
                                    
                                    <div id="link-options">
                                        <div class="mb-3">
                                            <label for="redirect-type" class="form-label">Redirect To</label>
                                            <select class="form-select" id="redirect-type">
                                                <option value="">Select redirect type</option>
                                                <option value="category">Category</option>
                                                <option value="product">Product</option>
                                            </select>
                                        </div>
                                        
                                        <div class="mb-3" id="category-select-container" style="display: none;">
                                            <label for="category-select" class="form-label">Select Category</label>
                                            <select class="form-select" id="category-select">
                                                <option value="">Select a category</option>
                                                <option value="1">Men</option>
                                                <option value="2">Women</option>
                                                <option value="3">Kids</option>
                                            </select>
                                        </div>
                                        
                                        <div class="mb-3" id="product-select-container" style="display: none;">
                                            <label for="product-select" class="form-label">Select Product</label>
                                            <select class="form-select" id="product-select">
                                                <option value="">Select a product</option>
                                                <option value="1">Product 1</option>
                                                <option value="2">Product 2</option>
                                                <option value="3">Product 3</option>
                                            </select>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                                <button type="button" class="btn btn-primary" id="save-carousel">Save</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.4/js/dataTables.bootstrap5.min.js"></script>
    <script src="">

$(document).ready(() => {
  // Toggle sidebar on mobile
  $(".toggle-sidebar").click(() => {
    $(".sidebar").toggleClass("active")
  })

  // Active menu item
  $(".sidebar-menu li a").click(function () {
    $(".sidebar-menu li a").removeClass("active")
    $(this).addClass("active")
  })

  $("#carousel-table").DataTable({
    responsive: true,
    lengthMenu: [5, 10, 25, 50],
    pageLength: 5,
  })

  // CMS Card Click Handlers
  $(".cms-card").on("click", function () {
    const target = $(this).data("target")
    $("#cms-options").hide()
    $(`#${target}-section`).fadeIn()
  })

  // Back button handler
  $(".back-to-options").on("click", () => {
    $(".cms-section").hide()
    $("#cms-options").fadeIn()
  })

  // Add Carousel Button Click
  $("#add-carousel-btn").on("click", () => {
    // Reset form
    $("#carousel-form")[0].reset()
    $("#image-preview-container").hide()
    $("#carouselModalLabel").text("Add Carousel Slide")
    $("#carousel-modal").modal("show")

    // Show link options by default
    $("#link-options").show()
    $("#category-select-container, #product-select-container").hide()
  })

  // Edit Carousel Button Click
  $(".edit-carousel").on("click", function () {
    const row = $(this).closest("tr")
    const isLink = row.find(".badge").text() === "Link"

    // Set form values (in a real app, you'd populate with actual data)
    $("#carouselModalLabel").text("Edit Carousel Slide")
    $("#carousel-title").val(row.find("td:eq(1)").text())

    if (isLink) {
      $("#type-link").prop("checked", true)
      $("#link-options").show()
    } else {
      $("#type-nonlink").prop("checked", true)
      $("#link-options").hide()
    }

    $("#carousel-modal").modal("show")
  })

  // Delete Carousel Button Click
  $(".delete-carousel").on("click", function () {
    if (confirm("Are you sure you want to delete this slide?")) {
      // In a real app, you'd send an AJAX request to delete the slide
      $(this).closest("tr").remove()
    }
  })

  // Slide Type Change Handler
  $('input[name="slide-type"]').on("change", function () {
    const type = $(this).val()
    if (type === "link") {
      $("#link-options").slideDown()
    } else {
      $("#link-options").slideUp()
    }
  })

  // Redirect Type Change Handler
  $("#redirect-type").on("change", function () {
    const type = $(this).val()
    $("#category-select-container, #product-select-container").hide()

    if (type === "category") {
      $("#category-select-container").show()
    } else if (type === "product") {
      $("#product-select-container").show()
    }
  })

  // Image Preview
  $("#carousel-image").on("change", function () {
    const file = this.files[0]
    if (file) {
      const reader = new FileReader()
      reader.onload = (e) => {
        $("#image-preview").attr("src", e.target.result)
        $("#image-preview-container").show()
      }
      reader.readAsDataURL(file)
    }
  })

  // Save Carousel Button Click
  $("#save-carousel").on("click", () => {
    // Validate form
    if (!validateCarouselForm()) {
      return
    }

    // In a real app, you'd send an AJAX request to save the data
    // For demo purposes, we'll just add a new row to the table
    const title = $("#carousel-title").val()
    const type = $('input[name="slide-type"]:checked').val()
    const typeLabel = type === "link" ? "Link" : "Non-Link"
    const typeBadgeClass = type === "link" ? "bg-primary" : "bg-secondary"

    // Create a new row (in a real app, you'd use the response from the server)
    const newRow = `
            <tr>
                <td><img src="${$("#image-preview").attr("src") || "images/placeholder.jpg"}" alt="Slide" class="img-thumbnail" style="width: 100px;"></td>
                <td>${title}</td>
                <td><span class="badge ${typeBadgeClass}">${typeLabel}</span></td>
                <td>
                    <button class="btn btn-sm btn-info edit-carousel"><i class="fas fa-edit"></i></button>
                    <button class="btn btn-sm btn-danger delete-carousel"><i class="fas fa-trash"></i></button>
                </td>
            </tr>
        `

    // Add the new row to the table
    $("#carousel-table tbody").prepend(newRow)

    // Close the modal
    $("#carousel-modal").modal("hide")

    // Show success message
    alert("Carousel slide saved successfully!")
  })

  // Footer Form Submit Handler
  $("#footer-form").on("submit", (e) => {
    e.preventDefault()

    // Validate form
    if (!validateFooterForm()) {
      return
    }

    // In a real app, you'd send an AJAX request to save the data
    alert("Footer information saved successfully!")
  })

  // Form Validation Functions
  function validateCarouselForm() {
    if (!$("#carousel-title").val()) {
      alert("Please enter a title for the slide.")
      return false
    }

    const type = $('input[name="slide-type"]:checked').val()
    if (type === "link") {
      const redirectType = $("#redirect-type").val()
      if (!redirectType) {
        alert("Please select a redirect type.")
        return false
      }

      if (redirectType === "category" && !$("#category-select").val()) {
        alert("Please select a category.")
        return false
      }

      if (redirectType === "product" && !$("#product-select").val()) {
        alert("Please select a product.")
        return false
      }
    }

    return true
  }

  function validateFooterForm() {
    if (!$("#instagram-url").val()) {
      alert("Please enter an Instagram URL.")
      return false
    }

    if (!$("#contact-number").val()) {
      alert("Please enter a contact number.")
      return false
    }

    if (!$("#email-address").val()) {
      alert("Please enter an email address.")
      return false
    }

    return true
  }

  // Re-initialize event handlers for dynamically added elements
  function reInitializeEventHandlers() {
    $(".edit-carousel")
      .off("click")
      .on("click", function () {
        const row = $(this).closest("tr")
        const isLink = row.find(".badge").text() === "Link"

        $("#carouselModalLabel").text("Edit Carousel Slide")
        $("#carousel-title").val(row.find("td:eq(1)").text())

        if (isLink) {
          $("#type-link").prop("checked", true)
          $("#link-options").show()
        } else {
          $("#type-nonlink").prop("checked", true)
          $("#link-options").hide()
        }

        $("#carousel-modal").modal("show")
      })

    $(".delete-carousel")
      .off("click")
      .on("click", function () {
        if (confirm("Are you sure you want to delete this slide?")) {
          $(this).closest("tr").remove()
        }
      })
  }

  // Call this function after adding new elements
  $("#carousel-table").on("draw.dt", () => {
    reInitializeEventHandlers()
  })
})

    </script>
    <script src="./JS/cms.js"></script>
</body>
</html>
